(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{TNp3:function(t,e,i){"use strict";i.r(e),i.d(e,"ViewEditUserModule",function(){return u});var s=i("ofXK"),r=i("tyNb"),o=i("fXoL"),a=i("3Pt+"),n=i("HT8n"),b=i("NyM5");let l=(()=>{class t{constructor(t,e,i,s,r,o){this.activate=t,this.router=e,this.location=i,this._fb=s,this.service=r,this.modal=o,this._data=null,this._params=null,this.submit_button=null,this.formUser=this._fb.group({id:null,full_name:null,telefono:null,email:null}),this.titleCard=null,this.activate.params.subscribe(t=>{console.log(t),this.params=t}),this._isState(i.getState()),this.activate.data.subscribe(t=>{if(this.data=t,"title"in t)switch(t.title){case"New User":this.submit_button="Crea Nuovo",this.titleCard="Creazione nuovo Utente";break;case"Edit User":this.submit_button="Modifica User",this.titleCard="Modifica Utente esistente";break;default:this.submit_button="Crea Nuovo"}})}ngOnInit(){}submit(){const t=this.formUser.getRawValue();this.data&&this.data.edit?this.service.setUser(t).subscribe(t=>this._modal("User Modificato correttamente")):this.service.postNewUser(t).subscribe(t=>this._modal("User creato correttamente"))}_isState(t){t&&t.user?this.formUser.patchValue(Object.assign({},t.user)):this.params&&this.params.id&&this.service.getUserId(this.params.id).subscribe(t=>this.formUser.patchValue(Object.assign({},t)))}_modal(t){this.modal.getAlert(t,"success")}get data(){return this._data}set data(t){this._data=t}get params(){return this._params}set params(t){this._params=t}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(r.a),o.Jb(r.b),o.Jb(s.g),o.Jb(a.b),o.Jb(n.a),o.Jb(b.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-view-edit-user"]],decls:28,vars:3,consts:[[1,"row","align-items-center",2,"height","90vh"],[1,"col"],[1,"card","p-3"],[1,"card-title"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-floating","mb-3"],["formControlName","full_name","type","text","id","name","placeholder","Inserire nome e cognome",1,"form-control","form-control-sm"],["for","name"],["formControlName","email","type","email","id","email","placeholder","Inserire Email",1,"form-control"],["for","email"],[1,"form-floating","mb-5"],["formControlName","telefono","type","text","id","telefono","placeholder","Inserire Telefono",1,"form-control"],["for","telefono"],[1,"card-footer"],[1,"mb-3","d-flex","jus"],["type","submit",1,"btn","btn-sm","btn-primary","mx-3"],["routerLink","welcome","type","button",1,"btn","btn-sm","btn-secondary"]],template:function(t,e){1&t&&(o.Mb(0,"div",0),o.Mb(1,"div",1),o.Mb(2,"div",2),o.Mb(3,"div",3),o.jc(4),o.Lb(),o.Mb(5,"form",4),o.Tb("ngSubmit",function(){return e.submit()}),o.Mb(6,"div",5),o.Mb(7,"div",1),o.Mb(8,"div",6),o.Kb(9,"input",7),o.Mb(10,"label",8),o.jc(11,"Nome e Cognome"),o.Lb(),o.Lb(),o.Lb(),o.Mb(12,"div",1),o.Mb(13,"div",6),o.Kb(14,"input",9),o.Mb(15,"label",10),o.jc(16,"Email"),o.Lb(),o.Lb(),o.Lb(),o.Mb(17,"div",1),o.Mb(18,"div",11),o.Kb(19,"input",12),o.Mb(20,"label",13),o.jc(21,"Telefono"),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Mb(22,"div",14),o.Mb(23,"div",15),o.Mb(24,"button",16),o.jc(25),o.Lb(),o.Mb(26,"a",17),o.jc(27,"Home"),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb()),2&t&&(o.yb(4),o.lc(" ",e.titleCard," "),o.yb(1),o.ac("formGroup",e.formUser),o.yb(20),o.kc(e.submit_button))},directives:[a.h,a.f,a.d,a.a,a.e,a.c,r.c],styles:[""]}),t})();const c=[{path:"",component:l,data:{title:"New User",edit:!1}},{path:"user/:id",component:l,data:{title:"Edit User",edit:!0}}];let m=(()=>{class t{}return t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({factory:function(e){return new(e||t)},imports:[[r.d.forChild(c)],r.d]}),t})(),u=(()=>{class t{}return t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({factory:function(e){return new(e||t)},imports:[[s.c,m,a.g]]}),t})()}}]);